<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Inkwell | P. Paul (The Great) - Official Blog</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;700;800;900&family=Source+Serif+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- DYNAMIC SOCIAL META TAGS -->
    <meta property="og:site_name" content="The Inkwell by P. Paul (The Great)">
    <meta property="og:type" content="article">
    <meta property="og:title" content="The Inkwell | P. Paul (The Great)" id="og-title">
    <meta property="og:description" content="Official blog of P. Paul (The Great) - Poet, Speaker, Humanitarian" id="og-description">
    <meta property="og:image" content="" id="og-image">
    <meta property="og:url" content="https://ppaulthegreat.com/blog.html" id="og-url">
    
    <meta name="twitter:card" content="summary_large_image" id="twitter-card">
    <meta name="twitter:site" content="@ppaulthegreat">
    <meta name="twitter:creator" content="@ppaulthegreat">
    <meta name="twitter:title" content="The Inkwell | P. Paul (The Great)" id="twitter-title">
    <meta name="twitter:description" content="Official blog of P. Paul (The Great) - Poet, Speaker, Humanitarian" id="twitter-description">
    <meta name="twitter:image" content="" id="twitter-image">
    
    <style>
        :root {
            --primary-gold: #D4AF37;
            --dark-gold: #B8941F;
            --light-gold: #F0C674;
            --bg-dark: #0A0A0A;
            --bg-card: rgba(20, 20, 20, 0.95);
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
        }
        
        body {
            background: var(--bg-dark);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(10, 10, 10, 1) 100%);
        }
        
        .article-body {
            font-family: 'Source Serif Pro', serif;
            font-size: 1.125rem;
            line-height: 1.8;
        }
        
        .article-body p {
            margin-bottom: 1.5rem;
        }
        
        .article-body h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            margin: 2.5rem 0 1rem 0;
            color: var(--primary-gold);
        }
        
        .article-body h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
            color: var(--text-primary);
        }
        
        .gold-border {
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .gold-hover:hover {
            border-color: var(--primary-gold);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .stagger-delay-1 { animation-delay: 0.1s; }
        .stagger-delay-2 { animation-delay: 0.2s; }
        .stagger-delay-3 { animation-delay: 0.3s; }
        
        .share-btn {
            position: relative;
            overflow: hidden;
        }
        
        .share-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .share-btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .scrollbar-custom {
            scrollbar-width: thin;
            scrollbar-color: var(--primary-gold) rgba(255, 255, 255, 0.05);
        }
        
        .scrollbar-custom::-webkit-scrollbar {
            width: 6px;
        }
        
        .scrollbar-custom::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }
        
        .scrollbar-custom::-webkit-scrollbar-thumb {
            background: var(--primary-gold);
            border-radius: 3px;
        }
        
        .read-time {
            position: relative;
        }
        
        .read-time::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -12px;
            transform: translateY(-50%);
            width: 3px;
            height: 3px;
            background: var(--text-secondary);
            border-radius: 50%;
        }
        
        .mobile-nav {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-nav.active {
            transform: translateX(0);
        }
        
        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .img-fallback {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-gold);
            font-size: 3rem;
        }
        
        .whatsapp-share {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }
        
        .facebook-share {
            background: linear-gradient(135deg, #1877F2 0%, #0D5FD6 100%);
        }
        
        .twitter-share {
            background: linear-gradient(135deg, #1DA1F2 0%, #0D8BD9 100%);
        }
        
        .linkedin-share {
            background: linear-gradient(135deg, #0A66C2 0%, #084482 100%);
        }
        
        .telegram-share {
            background: linear-gradient(135deg, #26A5E4 0%, #1E8BC3 100%);
        }
        
        /* Read More Button Styles */
        .read-more-btn {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--primary-gold);
            color: #000;
            font-weight: 700;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .read-more-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
            background: var(--light-gold);
        }
        
        /* Droplets for truncated content */
        .content-droplet {
            position: relative;
            max-height: 300px;
            overflow: hidden;
        }
        
        .content-droplet::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to bottom, transparent, var(--bg-dark));
        }
        
        .content-full {
            max-height: none;
            overflow: visible;
        }
        
        .content-full::after {
            display: none;
        }
        
        /* Article preview styles */
        .article-preview {
            transition: all 0.3s ease;
        }
        
        .article-preview:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="antialiased">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 py-4 px-6 bg-black/80 backdrop-blur-md border-b border-white/5">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="index.html" class="flex items-center space-x-3 group">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#D4AF37] to-[#F0C674] flex items-center justify-center">
                    <span class="font-black text-black text-lg">P</span>
                </div>
                <div>
                    <h1 class="text-xl font-black tracking-tight">The Inkwell</h1>
                    <p class="text-[10px] text-gray-400 uppercase tracking-widest">by P. Paul</p>
                </div>
            </a>
            
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="text-sm font-medium hover:text-[#D4AF37] transition-colors">Home</a>
                <a href="about.html" class="text-sm font-medium hover:text-[#D4AF37] transition-colors">About</a>
                <a href="portfolio.html" class="text-sm font-medium hover:text-[#D4AF37] transition-colors">Portfolio</a>
                <a href="inquiry.html" class="text-sm font-medium hover:text-[#D4AF37] transition-colors">Contact</a>
                <a href="inquiry.html" class="px-4 py-2 bg-gradient-to-r from-[#D4AF37] to-[#B8941F] text-black font-bold rounded-full text-sm hover:shadow-lg hover:scale-105 transition-all">
                    Join the Journey
                </a>
            </div>
            
            <button id="mobileMenuBtn" class="md:hidden">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div id="mobileNav" class="mobile-nav fixed inset-0 z-40 bg-black/95 backdrop-blur-md flex flex-col items-center justify-center">
        <button id="closeMobileMenu" class="absolute top-6 right-6 text-2xl">
            <i class="fas fa-times"></i>
        </button>
        
        <div class="text-center space-y-8">
            <a href="index.html" class="block text-2xl font-medium hover:text-[#D4AF37] transition-colors">Home</a>
            <a href="about.html" class="block text-2xl font-medium hover:text-[#D4AF37] transition-colors">About</a>
            <a href="portfolio.html" class="block text-2xl font-medium hover:text-[#D4AF37] transition-colors">Portfolio</a>
            <a href="inquiry.html" class="block text-2xl font-medium hover:text-[#D4AF37] transition-colors">Contact</a>
            <a href="inquiry.html" class="inline-block mt-8 px-8 py-3 bg-gradient-to-r from-[#D4AF37] to-[#B8941F] text-black font-bold rounded-full text-lg">
                Join the Journey
            </a>
        </div>
    </div>

    <!-- Hero Section -->
    <header class="pt-32 pb-20 px-6 hero-gradient relative overflow-hidden">
        <div class="max-w-4xl mx-auto text-center relative z-10">
            <div class="inline-flex items-center px-4 py-2 rounded-full bg-[#D4AF37]/10 border border-[#D4AF37]/30 text-[#D4AF37] text-sm font-medium mb-6">
                <i class="fas fa-feather-alt mr-2"></i> Official Blog
            </div>
            
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6 leading-tight">
                <span class="text-white">The</span> 
                <span class="bg-gradient-to-r from-[#D4AF37] to-[#F0C674] bg-clip-text text-transparent">Inkwell</span>
            </h1>
            
            <p class="text-xl text-gray-300 max-w-2xl mx-auto mb-10">
                Where words transform into wisdom, and thoughts become movements. 
                Dive into reflections on creativity, purpose, and human transformation.
            </p>
            
            <div class="flex flex-wrap justify-center gap-4 mb-12">
                <div class="flex items-center text-gray-400">
                    <i class="fas fa-book-open mr-2 text-[#D4AF37]"></i>
                    <span id="total-posts">0 Articles</span>
                </div>
                <div class="flex items-center text-gray-400">
                    <i class="fas fa-clock mr-2 text-[#D4AF37]"></i>
                    <span>Updated Weekly</span>
                </div>
                <div class="flex items-center text-gray-400">
                    <i class="fas fa-users mr-2 text-[#D4AF37]"></i>
                    <span>Community of Readers</span>
                </div>
            </div>
            
            <a href="#featured" class="inline-flex items-center text-[#D4AF37] font-bold text-lg group">
                Start Reading
                <i class="fas fa-arrow-down ml-2 group-hover:translate-y-1 transition-transform"></i>
            </a>
        </div>
        
        <div class="absolute inset-0 opacity-5">
            <div class="absolute top-1/4 left-1/4 w-64 h-64 border border-[#D4AF37] rounded-full"></div>
            <div class="absolute bottom-1/4 right-1/4 w-48 h-48 border border-[#D4AF37] rounded-full"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-12">
        <!-- Featured Posts -->
        <section id="featured" class="mb-20 fade-in">
            <div class="flex justify-between items-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold">Featured <span class="text-[#D4AF37]">Articles</span></h2>
                <div class="flex items-center space-x-2">
                    <button id="sort-newest" class="text-sm px-4 py-2 rounded-full bg-[#D4AF37]/10 text-[#D4AF37] font-medium">
                        Newest First
                    </button>
                    <button id="sort-oldest" class="text-sm px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors">
                        Oldest First
                    </button>
                </div>
            </div>
            
            <div id="featured-posts" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <!-- Featured posts will load here -->
            </div>
            
            <div id="featured-loading" class="text-center py-12">
                <div class="loading-pulse space-y-8 max-w-4xl mx-auto">
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="h-80 bg-white/5 rounded-3xl"></div>
                        <div class="h-80 bg-white/5 rounded-3xl"></div>
                        <div class="h-80 bg-white/5 rounded-3xl"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- All Articles -->
        <section class="mb-20">
            <h2 class="text-3xl md:text-4xl font-bold mb-12">All <span class="text-[#D4AF37]">Articles</span></h2>
            
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <div id="blog-container" class="space-y-16">
                        <!-- Blog posts will load here -->
                    </div>
                    
                    <div id="loading-state" class="text-center py-12">
                        <div class="loading-pulse space-y-8 max-w-2xl mx-auto">
                            <div class="h-64 bg-white/5 rounded-3xl"></div>
                            <div class="h-64 bg-white/5 rounded-3xl"></div>
                        </div>
                    </div>
                    
                    <div id="empty-state" class="hidden text-center py-20">
                        <div class="max-w-md mx-auto">
                            <i class="fas fa-feather-alt text-6xl text-gray-600 mb-6"></i>
                            <h3 class="text-2xl font-bold mb-4">Coming Soon</h3>
                            <p class="text-gray-400 mb-8">
                                New articles are being crafted. Check back soon for inspiring content.
                            </p>
                        </div>
                    </div>
                    
                    <div id="load-more-container" class="hidden text-center mt-12">
                        <button id="load-more" class="px-8 py-3 gold-border rounded-full font-bold hover:bg-[#D4AF37]/10 transition-all">
                            Load More Articles
                        </button>
                    </div>
                </div>
                
                <!-- Sidebar -->
                <div class="lg:col-span-1">
                    <!-- About Author -->
                    <div class="gold-border rounded-3xl p-6 mb-8">
                        <div class="flex items-center space-x-4 mb-6">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-[#D4AF37] to-[#F0C674] flex items-center justify-center">
                                <span class="font-black text-black text-xl">P</span>
                            </div>
                            <div>
                                <h4 class="font-bold">P. Paul (The Great)</h4>
                                <p class="text-sm text-gray-400">Poet & Humanitarian</p>
                            </div>
                        </div>
                        <p class="text-gray-300 text-sm mb-6">
                            Speaking the language of peace, healing, and human transformation through poetry and spoken word.
                        </p>
                        <a href="about.html" class="inline-flex items-center text-[#D4AF37] font-medium text-sm">
                            <span>Learn More</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                    
                    <!-- Join the Journey -->
                    <div class="gold-border rounded-3xl p-6">
                        <h4 class="font-bold text-lg mb-4">Join the Journey</h4>
                        <p class="text-sm text-gray-300 mb-6">
                            Connect with P. Paul for speaking engagements, collaborations, or to share your thoughts.
                        </p>
                        <a href="inquiry.html" class="w-full py-3 bg-gradient-to-r from-[#D4AF37] to-[#B8941F] text-black font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center">
                            <i class="fas fa-handshake mr-2"></i> Get In Touch
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-white/10 py-12 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#D4AF37] to-[#F0C674] flex items-center justify-center">
                            <span class="font-black text-black">P</span>
                        </div>
                        <div>
                            <h3 class="font-bold">The Inkwell</h3>
                            <p class="text-xs text-gray-500">by P. Paul</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-400">
                        A space for transformative words and impactful stories.
                    </p>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-sm text-gray-400 hover:text-[#D4AF37] transition-colors">Home</a></li>
                        <li><a href="about.html" class="text-sm text-gray-400 hover:text-[#D4AF37] transition-colors">About</a></li>
                        <li><a href="portfolio.html" class="text-sm text-gray-400 hover:text-[#D4AF37] transition-colors">Portfolio</a></li>
                        <li><a href="inquiry.html" class="text-sm text-gray-400 hover:text-[#D4AF37] transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Recent Posts</h4>
                    <ul id="recent-posts-list" class="space-y-2">
                        <!-- Recent posts will load here -->
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Connect</h4>
                    <div class="flex space-x-4 mb-4">
                        <a href="https://www.instagram.com/p.paulthegreat" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/paul-okewunmi-5a4659291" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://www.youtube.com/@p.paulthegreat" target="_blank" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="mailto:contact@ppaulthegreat.com" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                    <p class="text-sm text-gray-400">Available for speaking engagements</p>
                </div>
            </div>
            
            <div class="pt-8 border-t border-white/10 text-center">
                <p class="text-sm text-gray-500">
                    © 2026 The Inkwell by P. Paul (The Great). All rights reserved.
                </p>
                <p class="text-xs text-gray-600 mt-2">"Words have power. Use them wisely."</p>
            </div>
        </div>
    </footer>

    <!-- Share Modal -->
    <div id="shareModal" class="fixed inset-0 z-50 hidden bg-black/80 backdrop-blur-sm">
        <div class="min-h-screen flex items-center justify-center p-6">
            <div class="gold-border rounded-3xl p-8 max-w-md w-full">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-xl font-bold">Share This Article</h3>
                    <button id="closeShareModal" class="text-2xl"><i class="fas fa-times"></i></button>
                </div>
                
                <div class="grid grid-cols-4 gap-4 mb-8">
                    <button data-platform="whatsapp" class="share-btn whatsapp-share p-4 rounded-xl flex flex-col items-center justify-center text-white">
                        <i class="fab fa-whatsapp text-2xl mb-2"></i><span class="text-xs">WhatsApp</span>
                    </button>
                    <button data-platform="facebook" class="share-btn facebook-share p-4 rounded-xl flex flex-col items-center justify-center text-white">
                        <i class="fab fa-facebook text-2xl mb-2"></i><span class="text-xs">Facebook</span>
                    </button>
                    <button data-platform="twitter" class="share-btn twitter-share p-4 rounded-xl flex flex-col items-center justify-center text-white">
                        <i class="fab fa-twitter text-2xl mb-2"></i><span class="text-xs">Twitter</span>
                    </button>
                    <button data-platform="linkedin" class="share-btn linkedin-share p-4 rounded-xl flex flex-col items-center justify-center text-white">
                        <i class="fab fa-linkedin text-2xl mb-2"></i><span class="text-xs">LinkedIn</span>
                    </button>
                    <button data-platform="telegram" class="share-btn telegram-share p-4 rounded-xl flex flex-col items-center justify-center text-white">
                        <i class="fab fa-telegram text-2xl mb-2"></i><span class="text-xs">Telegram</span>
                    </button>
                    <button data-platform="email" class="share-btn bg-gray-500/10 text-gray-300 p-4 rounded-xl flex flex-col items-center justify-center">
                        <i class="fas fa-envelope text-2xl mb-2"></i><span class="text-xs">Email</span>
                    </button>
                    <button data-platform="copy" class="share-btn bg-purple-500/10 text-purple-400 p-4 rounded-xl flex flex-col items-center justify-center">
                        <i class="fas fa-copy text-2xl mb-2"></i><span class="text-xs">Copy Link</span>
                    </button>
                    <button data-platform="more" class="share-btn bg-[#D4AF37]/10 text-[#D4AF37] p-4 rounded-xl flex flex-col items-center justify-center">
                        <i class="fas fa-ellipsis-h text-2xl mb-2"></i><span class="text-xs">More</span>
                    </button>
                </div>
                
                <div class="p-4 bg-white/5 rounded-xl">
                    <p class="text-sm text-gray-400 mb-2">Share via URL</p>
                    <div class="flex">
                        <input id="share-url" type="text" readonly class="flex-1 px-4 py-2 rounded-l-xl bg-white/5 border border-white/10 text-sm truncate">
                        <button id="copy-url" class="px-4 py-2 bg-[#D4AF37] text-black rounded-r-xl font-medium">Copy</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== FIREBASE CONFIGURATION ====================
        const firebaseConfig = {
            apiKey: "AIzaSyC5lIxb1OGdC_kyYakuhPuyL_pFL6GxyEQ",
            authDomain: "ppaul-40e97.firebaseapp.com",
            projectId: "ppaul-40e97",
            storageBucket: "ppaul-40e97.firebasestorage.app",
            messagingSenderId: "148030572244",
            appId: "1:148030572244:web:de6882db57f21e6f641d41",
            measurementId: "G-TK1B0ENV0D"
        };

        // Initialize Firebase
        let firebaseApp, db;
        try {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();
            console.log("✅ Firebase initialized successfully");
        } catch (error) {
            console.error("❌ Firebase initialization error:", error);
            showNotification("Blog could not load. Please check your connection.", "error");
        }

        // ==================== APP CONFIGURATION ====================
        const BLOG_CONFIG = {
            postsPerPage: 5,
            featuredCount: 3,
            sortOrder: 'newest',
            currentPage: 0,
            hasMorePosts: true,
            wordsPerDroplet: 500
        };

        // ==================== STATE MANAGEMENT ====================
        let currentPostId = null;
        let allPosts = [];
        let currentShareUrl = '';

        // ==================== INITIALIZE APP ====================
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile Navigation
            setupMobileNav();
            
            // Load blog posts
            loadBlogPosts();
            
            // Setup event listeners
            setupEventListeners();
            
            // Check URL for post ID
            checkUrlForPost();
        });

        // ==================== SETUP FUNCTIONS ====================
        function setupMobileNav() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const closeMobileMenu = document.getElementById('closeMobileMenu');
            const mobileNav = document.getElementById('mobileNav');

            mobileMenuBtn.addEventListener('click', () => {
                mobileNav.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            closeMobileMenu.addEventListener('click', () => {
                mobileNav.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            mobileNav.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileNav.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            });
        }

        function setupEventListeners() {
            // Sorting
            document.getElementById('sort-newest').addEventListener('click', () => {
                BLOG_CONFIG.sortOrder = 'newest';
                document.getElementById('sort-newest').classList.add('bg-[#D4AF37]/10', 'text-[#D4AF37]');
                document.getElementById('sort-oldest').classList.remove('bg-[#D4AF37]/10', 'text-[#D4AF37]');
                renderBlogPosts();
            });

            document.getElementById('sort-oldest').addEventListener('click', () => {
                BLOG_CONFIG.sortOrder = 'oldest';
                document.getElementById('sort-oldest').classList.add('bg-[#D4AF37]/10', 'text-[#D4AF37]');
                document.getElementById('sort-newest').classList.remove('bg-[#D4AF37]/10', 'text-[#D4AF37]');
                renderBlogPosts();
            });

            // Load More
            document.getElementById('load-more').addEventListener('click', loadMorePosts);

            // Share Modal
            const shareModal = document.getElementById('shareModal');
            const closeShareModal = document.getElementById('closeShareModal');
            const copyUrlBtn = document.getElementById('copy-url');

            closeShareModal.addEventListener('click', () => {
                shareModal.classList.add('hidden');
            });

            shareModal.addEventListener('click', (e) => {
                if (e.target === shareModal) shareModal.classList.add('hidden');
            });

            copyUrlBtn.addEventListener('click', () => {
                const shareUrlInput = document.getElementById('share-url');
                shareUrlInput.select();
                document.execCommand('copy');
                
                copyUrlBtn.textContent = 'Copied!';
                copyUrlBtn.classList.add('bg-green-500');
                
                setTimeout(() => {
                    copyUrlBtn.textContent = 'Copy';
                    copyUrlBtn.classList.remove('bg-green-500');
                }, 2000);
            });

            // Share buttons
            document.querySelectorAll('.share-btn[data-platform]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const platform = e.currentTarget.dataset.platform;
                    if (platform === 'more') {
                        if (navigator.share) {
                            navigator.share({
                                title: document.title,
                                url: currentShareUrl
                            });
                        }
                    } else {
                        shareArticle(platform, currentPostId);
                    }
                });
            });
        }

        // ==================== BLOG POSTS FUNCTIONS ====================
        async function loadBlogPosts() {
            const loadingState = document.getElementById('loading-state');
            const emptyState = document.getElementById('empty-state');
            const featuredLoading = document.getElementById('featured-loading');
            
            try {
                loadingState.classList.remove('hidden');
                featuredLoading.classList.remove('hidden');
                
                // Get all published blog posts
                const snapshot = await db.collection('blogs')
                    .where('published', '==', true)
                    .orderBy('createdAt', 'desc')
                    .get();
                
                allPosts = [];
                snapshot.forEach((doc) => {
                    allPosts.push({
                        id: doc.id,
                        ...doc.data()
                    });
                });
                
                console.log(`✅ Loaded ${allPosts.length} blog posts`);
                
                // Update UI
                document.getElementById('total-posts').textContent = `${allPosts.length} ${allPosts.length === 1 ? 'Article' : 'Articles'}`;
                
                loadingState.classList.add('hidden');
                featuredLoading.classList.add('hidden');
                
                if (allPosts.length === 0) {
                    emptyState.classList.remove('hidden');
                    document.getElementById('load-more-container').classList.add('hidden');
                } else {
                    emptyState.classList.add('hidden');
                    renderBlogPosts();
                    updateRecentPosts();
                }
                
            } catch (error) {
                console.error('❌ Error loading blog posts:', error);
                loadingState.classList.add('hidden');
                featuredLoading.classList.add('hidden');
                emptyState.classList.remove('hidden');
                showNotification('Could not load blog posts. Please try again later.', 'error');
            }
        }

        function renderBlogPosts() {
            const blogContainer = document.getElementById('blog-container');
            const featuredContainer = document.getElementById('featured-posts');
            const loadMoreContainer = document.getElementById('load-more-container');
            
            // Sort posts
            let sortedPosts = [...allPosts];
            if (BLOG_CONFIG.sortOrder === 'newest') {
                sortedPosts.sort((a, b) => {
                    const dateA = a.createdAt ? a.createdAt.toDate().getTime() : 0;
                    const dateB = b.createdAt ? b.createdAt.toDate().getTime() : 0;
                    return dateB - dateA;
                });
            } else {
                sortedPosts.sort((a, b) => {
                    const dateA = a.createdAt ? a.createdAt.toDate().getTime() : 0;
                    const dateB = b.createdAt ? b.createdAt.toDate().getTime() : 0;
                    return dateA - dateB;
                });
            }
            
            // Render featured posts
            const featuredPosts = sortedPosts.slice(0, BLOG_CONFIG.featuredCount);
            if (featuredPosts.length > 0) {
                featuredContainer.innerHTML = featuredPosts.map((post, index) => `
                    <div class="gold-border rounded-3xl overflow-hidden gold-hover article-preview fade-in stagger-delay-${index}">
                        <div class="relative h-64 overflow-hidden">
                            ${post.image ? `
                                <img src="${post.image}" 
                                     alt="${post.title}"
                                     class="w-full h-full object-cover transform hover:scale-105 transition-transform duration-700">
                            ` : `
                                <div class="w-full h-full img-fallback">
                                    <i class="fas fa-feather-alt"></i>
                                </div>
                            `}
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                            <div class="absolute top-4 left-4">
                                <span class="px-3 py-1 bg-[#D4AF37] text-black text-xs font-bold rounded-full">
                                    Featured
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="flex items-center text-sm text-gray-400 mb-4">
                                <span>${formatDate(post.createdAt)}</span>
                                <span class="read-time ml-3">${calculateReadTime(post.content)} min read</span>
                            </div>
                            <h3 class="text-xl font-bold mb-3 line-clamp-2">${post.title || 'Untitled'}</h3>
                            <p class="text-gray-300 text-sm mb-6 line-clamp-3">${post.content ? truncateContent(post.content, 150) + '...' : 'Read more...'}</p>
                            <div class="flex items-center justify-between">
                                <a href="blog-single.html?post=${post.id}" 
                                   class="read-more-btn text-sm">
                                    <i class="fas fa-book-open mr-2"></i>Read Full Article
                                </a>
                                <button onclick="openShareModal('${post.id}')" 
                                        class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all">
                                    <i class="fas fa-share-alt text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            // Render main posts
            const postsToShow = sortedPosts.slice(0, BLOG_CONFIG.postsPerPage);
            blogContainer.innerHTML = postsToShow.map((post, index) => createPostElement(post, index)).join('');
            
            // Show load more if needed
            if (sortedPosts.length > BLOG_CONFIG.postsPerPage) {
                loadMoreContainer.classList.remove('hidden');
            } else {
                loadMoreContainer.classList.add('hidden');
            }
        }

        function createPostElement(post, index) {
            const dateString = formatDate(post.createdAt);
            const updatedString = post.updatedAt ? formatDate(post.updatedAt, true) : '';
            const wordCount = countWords(post.content || '');
            const shouldTruncate = wordCount > BLOG_CONFIG.wordsPerDroplet;
            const truncatedContent = shouldTruncate ? 
                truncateContent(post.content, BLOG_CONFIG.wordsPerDroplet) : post.content;
            
            return `
                <div id="post-${post.id}" class="blog-post pb-16 fade-in stagger-delay-${index % 3}">
                    <div class="mb-10">
                        <div class="flex items-center gap-6 mb-6">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[#D4AF37] to-[#F0C674] flex items-center justify-center mr-3">
                                    <span class="font-black text-black text-sm">P</span>
                                </div>
                                <div>
                                    <span class="text-[#D4AF37] text-sm font-bold uppercase tracking-wider">P. Paul The Great</span>
                                    <div class="flex items-center text-xs text-gray-600 mt-1">
                                        <span>${dateString}</span>
                                        ${updatedString ? `<span class="read-time ml-3">Updated: ${updatedString}</span>` : ''}
                                        <span class="read-time ml-3">${calculateReadTime(post.content)} min read</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        ${post.image ? `
                            <img src="${post.image}" 
                                 alt="${post.title}"
                                 class="w-full h-[400px] object-cover rounded-[2rem] mb-10 shadow-2xl gold-hover">
                        ` : `
                            <div class="w-full h-[400px] img-fallback rounded-[2rem] mb-10">
                                <i class="fas fa-feather-alt text-6xl"></i>
                            </div>
                        `}
                        
                        <h2 class="text-4xl md:text-5xl font-serif font-bold mb-8 leading-tight">${post.title || 'Untitled'}</h2>
                        
                        <div class="article-body text-gray-300 mb-6 ${shouldTruncate ? 'content-droplet' : 'content-full'}" id="content-${post.id}">
                            ${formatContent(truncatedContent || '')}
                        </div>
                        
                        ${shouldTruncate ? `
                            <div class="text-center mb-10">
                                <button onclick="expandContent('${post.id}')" class="read-more-btn">
                                    <i class="fas fa-book-reader mr-2"></i>Read More (${wordCount - BLOG_CONFIG.wordsPerDroplet} more words)
                                </button>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="border-t border-white/10 pt-8">
                        <div class="flex flex-wrap items-center justify-between gap-4">
                            <div>
                                <span class="text-sm font-bold uppercase text-gray-500">Share This Story:</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <button onclick="shareArticle('whatsapp', '${post.id}')" 
                                        class="share-btn w-12 h-12 rounded-full whatsapp-share flex items-center justify-center text-white">
                                    <i class="fab fa-whatsapp"></i>
                                </button>
                                <button onclick="shareArticle('facebook', '${post.id}')" 
                                        class="share-btn w-12 h-12 rounded-full facebook-share flex items-center justify-center text-white">
                                    <i class="fab fa-facebook-f"></i>
                                </button>
                                <button onclick="shareArticle('twitter', '${post.id}')" 
                                        class="share-btn w-12 h-12 rounded-full twitter-share flex items-center justify-center text-white">
                                    <i class="fab fa-twitter"></i>
                                </button>
                                <button onclick="openShareModal('${post.id}')" 
                                        class="share-btn w-12 h-12 rounded-full bg-[#D4AF37]/10 text-[#D4AF37] flex items-center justify-center hover:bg-[#D4AF37] hover:text-black">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function expandContent(postId) {
            const contentElement = document.getElementById(`content-${postId}`);
            const post = allPosts.find(p => p.id === postId);
            
            if (contentElement && post) {
                contentElement.innerHTML = formatContent(post.content || '');
                contentElement.classList.remove('content-droplet');
                contentElement.classList.add('content-full');
                
                // Remove the Read More button
                const button = contentElement.nextElementSibling?.querySelector('button');
                if (button) {
                    button.parentElement.remove();
                }
            }
        }

        function loadMorePosts() {
            const blogContainer = document.getElementById('blog-container');
            const loadMoreBtn = document.getElementById('load-more');
            const currentCount = blogContainer.children.length;
            
            loadMoreBtn.disabled = true;
            loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Loading...';
            
            setTimeout(() => {
                let sortedPosts = [...allPosts];
                if (BLOG_CONFIG.sortOrder === 'newest') {
                    sortedPosts.sort((a, b) => {
                        const dateA = a.createdAt ? a.createdAt.toDate().getTime() : 0;
                        const dateB = b.createdAt ? b.createdAt.toDate().getTime() : 0;
                        return dateB - dateA;
                    });
                }
                
                const nextPosts = sortedPosts.slice(currentCount, currentCount + BLOG_CONFIG.postsPerPage);
                nextPosts.forEach((post, index) => {
                    const postElement = document.createElement('div');
                    postElement.innerHTML = createPostElement(post, (currentCount + index) % 3);
                    blogContainer.appendChild(postElement.firstElementChild);
                });
                
                if (currentCount + nextPosts.length >= sortedPosts.length) {
                    document.getElementById('load-more-container').classList.add('hidden');
                }
                
                loadMoreBtn.disabled = false;
                loadMoreBtn.textContent = 'Load More Articles';
            }, 500);
        }

        // ==================== SOCIAL SHARING FUNCTIONS ====================
        function openShareModal(postId) {
            currentPostId = postId;
            const post = allPosts.find(p => p.id === postId);
            const shareModal = document.getElementById('shareModal');
            const shareUrlInput = document.getElementById('share-url');
            
            if (post) {
                // Update meta tags for this post
                updateMetaTagsForPost(post);
                
                // Generate share URL
                currentShareUrl = `${window.location.origin}${window.location.pathname}#post-${postId}`;
                shareUrlInput.value = currentShareUrl;
                shareModal.classList.remove('hidden');
            }
        }

        function shareArticle(platform, postId) {
            const post = allPosts.find(p => p.id === postId);
            if (!post) return;
            
            // Update meta tags first
            updateMetaTagsForPost(post);
            
            const url = `${window.location.origin}${window.location.pathname}#post-${postId}`;
            const text = `Check out "${post.title || 'this article'}" by P. Paul (The Great)`;
            const imageUrl = post.image || '';
            
            let shareUrl = '';
            
            switch(platform) {
                case 'whatsapp':
                    shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text + ' ' + url)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
                    break;
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
                    break;
                case 'telegram':
                    shareUrl = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
                    break;
                case 'email':
                    shareUrl = `mailto:?subject=${encodeURIComponent(post.title)}&body=${encodeURIComponent(text + '\n\n' + url)}`;
                    break;
                case 'copy':
                    navigator.clipboard.writeText(url).then(() => {
                        showNotification('Link copied to clipboard!', 'success');
                    });
                    return;
            }
            
            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
        }

        function updateMetaTagsForPost(post) {
            if (!post) return;
            
            const url = `${window.location.origin}${window.location.pathname}#post-${post.id}`;
            const description = post.content ? truncateContent(post.content, 200) + '...' : 'Read this article on The Inkwell';
            const imageUrl = post.image || '';
            
            // Update Open Graph
            document.getElementById('og-title').content = `${post.title} | The Inkwell by P. Paul`;
            document.getElementById('og-description').content = description;
            document.getElementById('og-image').content = imageUrl;
            document.getElementById('og-url').content = url;
            
            // Update Twitter
            document.getElementById('twitter-title').content = `${post.title} | The Inkwell by P. Paul`;
            document.getElementById('twitter-description').content = description;
            document.getElementById('twitter-image').content = imageUrl;
            
            // Update page title
            document.title = `${post.title} | The Inkwell by P. Paul`;
            
            console.log('✅ Meta tags updated for:', post.title);
            console.log('✅ Image URL:', imageUrl);
        }

        // ==================== HELPER FUNCTIONS ====================
        function formatDate(firebaseTimestamp, showTime = false) {
            if (!firebaseTimestamp) return 'Recent';
            try {
                const date = firebaseTimestamp.toDate();
                if (showTime) {
                    return date.toLocaleDateString('en-US', {
                        month: 'short',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                }
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            } catch (error) {
                return 'Recent';
            }
        }

        function calculateReadTime(content) {
            if (!content) return 3;
            const words = content.trim().split(/\s+/).length;
            return Math.max(1, Math.ceil(words / 200));
        }

        function countWords(content) {
            if (!content) return 0;
            return content.trim().split(/\s+/).length;
        }

        function truncateContent(content, wordLimit) {
            if (!content) return '';
            const words = content.trim().split(/\s+/);
            if (words.length <= wordLimit) return content;
            return words.slice(0, wordLimit).join(' ') + '...';
        }

        function formatContent(content) {
            if (!content) return '<p>Content coming soon...</p>';
            const paragraphs = content.split('\n\n').filter(p => p.trim());
            return paragraphs.map(p => `<p>${p}</p>`).join('');
        }

        function updateRecentPosts() {
            const recentPostsList = document.getElementById('recent-posts-list');
            const recentPosts = allPosts.slice(0, 4);
            
            if (recentPosts.length > 0) {
                recentPostsList.innerHTML = recentPosts.map(post => `
                    <li>
                        <a href="#post-${post.id}" 
                           onclick="event.preventDefault(); document.getElementById('post-${post.id}').scrollIntoView({behavior: 'smooth'}); updateMetaTagsForPost(${JSON.stringify(post).replace(/"/g, '&quot;')});"
                           class="text-sm text-gray-400 hover:text-[#D4AF37] transition-colors flex items-start">
                            <i class="fas fa-feather-alt text-[#D4AF37] text-xs mt-1 mr-2"></i>
                            <span class="line-clamp-2">${post.title || 'Untitled'}</span>
                        </a>
                    </li>
                `).join('');
            } else {
                recentPostsList.innerHTML = '<li class="text-sm text-gray-400">No posts yet</li>';
            }
        }

        function checkUrlForPost() {
            const hash = window.location.hash;
            if (hash) {
                const postId = hash.replace('#post-', '');
                if (postId && allPosts.length > 0) {
                    const post = allPosts.find(p => p.id === postId);
                    if (post) {
                        updateMetaTagsForPost(post);
                        const element = document.getElementById(`post-${postId}`);
                        if (element) {
                            setTimeout(() => element.scrollIntoView({ behavior: 'smooth' }), 500);
                        }
                    }
                }
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-xl shadow-lg backdrop-blur-sm ${
                type === 'success' ? 'bg-green-500/90' : 'bg-[#D4AF37]/90'
            } animate-fade-in`;
            notification.textContent = message;
            
            notification.style.animation = 'fadeIn 0.3s ease-out';
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
            @keyframes fadeOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-10px); } }
            .animate-fade-in { animation: fadeIn 0.3s ease-out; }
            .line-clamp-2 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; }
            .line-clamp-3 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; }
        `;
        document.head.appendChild(style);
    </script>
</body>
    </html>
